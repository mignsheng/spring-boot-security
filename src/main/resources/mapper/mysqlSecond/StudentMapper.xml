<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.firstProject.dao.mysqlSecondDao.MysqlSecondStudentMapper">
    <resultMap id="studentResultForList" type="com.example.firstProject.bean.Student">
        <result column="ID" property="id" jdbcType="INTEGER"/>
        <result column="NAME" property="name" jdbcType="VARCHAR"/>
        <result column="PASSWORD" property="password" jdbcType="VARCHAR"/>
        <result column="SEX" property="sex" jdbcType="INTEGER"/>
        <result column="ADD_DATE" property="add_date" jdbcType="TIMESTAMP"/>
    </resultMap>

    <resultMap id="studentResult" extends="studentResultForList" type="com.example.firstProject.bean.Student">
    </resultMap>

    <sql id="sf-student">
        <if test="id != null and id != ''">AND a.ID = #{id}</if>
        <if test="name != null and name != ''">AND a.NAME = #{name}</if>
        <if test="password != null and password != ''">AND a.PASSWORD = #{password}</if>
        <if test="sex != null and sex != ''">AND a.SEX = #{sex}</if>
        <if test="add_date != null">AND a.ADD_DATE = #{add_date}</if>
    </sql>

    <select id="getStudentOnlyOne" resultMap="studentResult">
        select * from student a where 1 = 1
        <include refid="sf-student"/>
        limit 0,1
    </select>
</mapper>